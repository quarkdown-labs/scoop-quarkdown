{
  "version": "1.11.0",
  "description": "A modern Markdown-based typesetting system",
  "homepage": "https://github.com/iamgio/quarkdown",
  "license": "GPL-3.0",
  "depends": [
    "java/openjdk17",
    "nodejs-lts"
  ],
  "url": "https://github.com/iamgio/quarkdown/releases/download/v1.11.0/quarkdown.zip",
  "hash": "dc7aa56cba0610e5bc5f4621c611212e41281eda753e05b4ed8af15245421977",
  "extract_dir": "quarkdown",
  "bin": "bin\\quarkdown.bat",
  "post_install": [
    "npm install puppeteer --prefix \"$dir\\lib\"",
    "Get-ChildItem -Path \"$dir\\lib\"",
    "Remove-Item -Path \"$dir\\bin\\quarkdown\" -Force -ErrorAction SilentlyContinue",
    "Move-Item -Path \"$dir\\bin\\quarkdown.bat\" -Destination \"$dir\\bin\\_quarkdown.bat\"",
    "Set-Content -Path \"$dir\\bin\\quarkdown.bat\" -Value @(",
    "  '@echo off',",
    "  'set APPS_DIR=%~dp0..\\..\\..',",
    "  'set JAVA_HOME=%APPS_DIR%\\openjdk17\\current',",
    "  'set PATH=%APPS_DIR%\\nodejs-lts\\current;%PATH%',",
    "  'set QD_NPM_PREFIX=%~dp0..\\lib',",
    "  '\"%~dp0_quarkdown\" %*'",
    ")"
  ]
}
